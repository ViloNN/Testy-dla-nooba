<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Matematyka: Poziom Master üéì</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #2c3e50; color: #ecf0f1; display: flex; justify-content: center; align-items: flex-start; min-height: 100vh; margin: 0; padding: 20px; }
        .quiz-container { background: #34495e; width: 100%; max-width: 750px; padding: 40px; border-radius: 15px; box-shadow: 0 15px 30px rgba(0,0,0,0.3); text-align: center; margin-top: 20px; margin-bottom: 40px; border: 1px solid #46637f; }
        h2 { color: #f1c40f; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px; }
        .subtitle { color: #bdc3c7; font-size: 1em; margin-bottom: 30px; }
        
        /* Pytania */
        .question { font-size: 1.4em; margin-bottom: 25px; font-weight: 600; color: #ecf0f1; }
        .options { display: flex; flex-direction: column; gap: 12px; }
        button.option-btn { padding: 18px; border: 2px solid #576f86; background: #2c3e50; border-radius: 10px; cursor: pointer; font-size: 1.1em; transition: all 0.2s; text-align: left; color: #ecf0f1; }
        button.option-btn:hover { background-color: #3e5871; border-color: #f1c40f; transform: translateX(5px); }
        button.option-btn.selected { background-color: #2980b9; border-color: #3498db; font-weight: bold; color: white; }
        
        /* Nawigacja */
        .navigation { margin-top: 35px; display: flex; justify-content: space-between; }
        button.nav-btn { padding: 12px 30px; background-color: #e67e22; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1.1em; font-weight: bold; transition: 0.2s; }
        button.nav-btn:hover { background-color: #d35400; }
        button.nav-btn:disabled { background-color: #7f8c8d; cursor: not-allowed; }

        /* Wyniki */
        .result-box { display: none; text-align: center; }
        .score-circle { width: 130px; height: 130px; border-radius: 50%; background: #27ae60; color: white; display: flex; justify-content: center; align-items: center; font-size: 2.2em; margin: 0 auto 20px; font-weight: bold; box-shadow: 0 0 20px rgba(39, 174, 96, 0.6); border: 4px solid #2ecc71; }
        
        /* Pasek postƒôpu */
        #progress-bar-container { width: 100%; background-color: #2c3e50; border: 1px solid #7f8c8d; border-radius: 10px; height: 12px; margin-bottom: 20px; overflow: hidden; }
        #progress-bar { height: 100%; background-color: #f1c40f; width: 0%; transition: width 0.3s; }
        #progress-text { text-align: right; font-size: 0.85em; color: #95a5a6; margin-bottom: 5px; }

        /* PodglƒÖd odpowiedzi */
        #review-container { margin-top: 30px; text-align: left; border-top: 2px solid #7f8c8d; padding-top: 20px; }
        .review-item { padding: 15px; margin-bottom: 15px; border-radius: 8px; border-left: 6px solid #ccc; background: #ecf0f1; color: #2c3e50; }
        .review-item.correct { border-left-color: #27ae60; background-color: #d5f5e3; }
        .review-item.incorrect { border-left-color: #c0392b; background-color: #fadbd8; }
        .review-q-title { font-weight: bold; color: #2c3e50; margin-bottom: 8px; display: block; }
        .ans-bad { color: #c0392b; text-decoration: line-through; font-size: 0.9em; }
        .ans-good { color: #27ae60; font-weight: bold; font-size: 0.95em; }
        .status-icon { float: right; font-size: 1.2em; }
    </style>
</head>
<body>

<div class="quiz-container">
    <div id="quiz-area">
        <h2>Matematyka: Poziom Master üéì</h2>
        <div class="subtitle">Zadania podchwytliwe i z≈Ço≈ºone</div>
        
        <div id="progress-text">Pytanie 1 z 20</div>
        <div id="progress-bar-container"><div id="progress-bar"></div></div>

        <div class="question" id="question-text">...</div>
        <div class="options" id="options-container"></div>
        
        <div class="navigation">
            <button class="nav-btn" id="prev-btn" onclick="prevQuestion()" disabled>‚Üê Cofnij</button>
            <button class="nav-btn" id="next-btn" onclick="nextQuestion()">Dalej ‚Üí</button>
        </div>
    </div>

    <div id="result-area" class="result-box">
        <h2>Tw√≥j Wynik</h2>
        <div class="score-circle" id="score-val">0/20</div>
        <p id="feedback-msg" style="font-size: 1.2em; color: #ecf0f1; margin-bottom: 20px;"></p>
        
        <button class="nav-btn" onclick="location.reload()" style="margin-bottom: 30px;">Spr√≥buj ponownie ‚Ü∫</button>

        <h3 style="color: #bdc3c7; border-bottom: 1px solid #7f8c8d; padding-bottom: 10px;">Analiza b≈Çƒôd√≥w:</h3>
        <div id="review-container"></div>
    </div>
</div>

<script>
    const questions = [
        // Trudniejsze wielokrotno≈õci i dzielniki
        { q: "1. Ile dzielnik√≥w ma liczba 36? (Wypisz je w g≈Çowie)", options: ["6", "8", "9", "12"], answer: 2 }, // 1,2,3,4,6,9,12,18,36
        { q: "2. Jaka liczba ma DOK≈ÅADNIE 3 dzielniki?", options: ["6", "12", "25", "30"], answer: 2 }, // Kwadrat liczby pierwszej (1, 5, 25)
        { q: "3. NajwiƒôkszƒÖ liczbƒÖ dwucyfrowƒÖ podzielnƒÖ przez 6 jest:", options: ["90", "96", "98", "99"], answer: 1 },
        { q: "4. Suma wszystkich dzielnik√≥w liczby 6 wynosi:", options: ["6", "10", "12", "15"], answer: 2 }, // 1+2+3+6 = 12 (liczba doskona≈Ça)

        // Cechy podzielno≈õci (kombinowane)
        { q: "5. Liczba 34X jest podzielna przez 3. JakƒÖ cyfrƒÖ mo≈ºe byƒá X?", options: ["1", "2", "3", "4"], answer: 1 }, // 3+4=7. 7+2=9 ok
        { q: "6. Aby liczba by≈Ça podzielna przez 15, musi dzieliƒá siƒô przez:", options: ["Tylko przez 5", "Przez 3 i przez 5", "Przez 2 i przez 5", "Przez 1 i 15"], answer: 1 },
        { q: "7. Kt√≥ra liczba dzieli siƒô przez 4?", options: ["1934", "2022", "5112", "3018"], answer: 2 }, // ko≈Ñc√≥wka 12
        { q: "8. Liczba 1000000002 dzieli siƒô przez:", options: ["3", "4", "9", "5"], answer: 0 }, // suma cyfr 3

        // Liczby pierwsze - pu≈Çapki
        { q: "9. Kt√≥ra z poni≈ºszych liczb NIE jest liczbƒÖ pierwszƒÖ?", options: ["17", "19", "51", "53"], answer: 2 }, // 51 = 3 * 17
        { q: "10. Liczba 91 jest:", options: ["Pierwsza", "Z≈Ço≈ºona (7 * 13)", "Podzielna przez 3", "Parzysta"], answer: 1 },
        { q: "11. Ile jest liczb pierwszych parzystych?", options: ["Zero", "Jedna (2)", "Niesko≈Ñczenie wiele", "Dwie (2 i 4)"], answer: 1 },
        { q: "12. Liczby wzglƒôdnie pierwsze to takie, kt√≥rych NWD wynosi:", options: ["0", "1", "Ich iloczyn", "Mniejsza z tych liczb"], answer: 1 },

        // NWD i NWW - zadania tekstowe i trudniejsze
        { q: "13. NWD(24, 36) to:", options: ["6", "12", "18", "72"], answer: 1 },
        { q: "14. NWW(12, 15) to:", options: ["30", "45", "60", "180"], answer: 2 },
        { q: "15. Autobus A odje≈ºd≈ºa co 10 minut, autobus B co 15 minut. Spotka≈Çy siƒô teraz. Za ile minut spotkajƒÖ siƒô ponownie?", options: ["Za 25 min", "Za 30 min", "Za 60 min", "Za 150 min"], answer: 1 }, // NWW(10,15)
        { q: "16. Masz dwie wstƒÖ≈ºki: 12m i 20m. Chcesz je pociƒÖƒá na R√ìWNE kawa≈Çki o jak NAJWIƒòKSZEJ d≈Çugo≈õci. Jaka to d≈Çugo≈õƒá?", options: ["2 m", "4 m", "6 m", "60 m"], answer: 1 }, // NWD(12,20)
        
        // Rozk≈Çad na czynniki i potƒôgi
        { q: "17. Kt√≥ra liczba to 2¬≥ ¬∑ 3¬≤ (dwa do potƒôgi 3 razy trzy do potƒôgi 2)?", options: ["36", "54", "72", "108"], answer: 2 }, // 8 * 9 = 72
        { q: "18. Rozk≈Çad liczby 60 na czynniki pierwsze to:", options: ["2 ¬∑ 3 ¬∑ 10", "2 ¬∑ 2 ¬∑ 15", "2 ¬∑ 2 ¬∑ 3 ¬∑ 5", "3 ¬∑ 4 ¬∑ 5"], answer: 2 },
        
        // Logika matematyczna
        { q: "19. Je≈õli liczba jest podzielna przez 9, to zawsze jest podzielna przez:", options: ["3", "6", "27", "18"], answer: 0 },
        { q: "20. Iloczyn dw√≥ch liczb pierwszych jest zawsze:", options: ["LiczbƒÖ pierwszƒÖ", "LiczbƒÖ parzystƒÖ", "LiczbƒÖ nieparzystƒÖ", "LiczbƒÖ z≈Ço≈ºonƒÖ"], answer: 3 }
    ];

    let currentQ = 0;
    let answers = new Array(questions.length).fill(null);

    function loadQ() {
        const qData = questions[currentQ];
        document.getElementById('question-text').innerText = qData.q;
        document.getElementById('progress-text').innerText = `Pytanie ${currentQ + 1} z ${questions.length}`;
        
        const percent = ((currentQ) / questions.length) * 100;
        document.getElementById('progress-bar').style.width = percent + "%";

        const optsDiv = document.getElementById('options-container');
        optsDiv.innerHTML = '';

        qData.options.forEach((opt, idx) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = opt;
            if (answers[currentQ] === idx) btn.classList.add('selected');
            btn.onclick = () => {
                answers[currentQ] = idx;
                loadQ();
            };
            optsDiv.appendChild(btn);
        });

        document.getElementById('prev-btn').disabled = (currentQ === 0);
        const nextBtn = document.getElementById('next-btn');
        if (currentQ === questions.length - 1) {
            nextBtn.innerText = "Zako≈Ñcz Test üèÅ";
            nextBtn.style.backgroundColor = "#27ae60";
        } else {
            nextBtn.innerText = "Dalej ‚Üí";
            nextBtn.style.backgroundColor = "#e67e22";
        }
    }

    function nextQuestion() {
        if (currentQ < questions.length - 1) {
            currentQ++;
            loadQ();
        } else {
            finishQuiz();
        }
    }

    function prevQuestion() {
        if (currentQ > 0) {
            currentQ--;
            loadQ();
        }
    }

    function finishQuiz() {
        let score = 0;
        const reviewContainer = document.getElementById('review-container');
        reviewContainer.innerHTML = ""; 

        questions.forEach((q, idx) => {
            const userAnsIdx = answers[idx];
            const correctAnsIdx = q.answer;
            const isCorrect = (userAnsIdx === correctAnsIdx);
            
            if (isCorrect) score++;

            const div = document.createElement('div');
            div.className = isCorrect ? 'review-item correct' : 'review-item incorrect';
            
            const statusIcon = isCorrect ? '<span class="status-icon">‚úÖ</span>' : '<span class="status-icon">‚ùå</span>';
            
            let reviewContent = `${statusIcon} <span class="review-q-title">${q.q}</span>`;

            if (isCorrect) {
                reviewContent += `<div class="ans-good">Twoja odp: ${q.options[userAnsIdx]}</div>`;
            } else {
                const userText = userAnsIdx !== null ? q.options[userAnsIdx] : "Brak odpowiedzi";
                reviewContent += `
                    <div class="ans-bad">Twoja odp: ${userText}</div>
                    <div class="ans-good">Poprawna: ${q.options[correctAnsIdx]}</div>
                `;
            }
            div.innerHTML = reviewContent;
            reviewContainer.appendChild(div);
        });

        document.getElementById('quiz-area').style.display = 'none';
        document.getElementById('result-area').style.display = 'block';
        document.getElementById('score-val').innerText = `${score}/${questions.length}`;
        
        let msg = "";
        const percent = (score / questions.length) * 100;
        if(percent === 100) msg = "GENIUSZ! Wszystko dobrze! üèÜüî•";
        else if(percent >= 80) msg = "Poziom Master zaliczony! ≈öwietna robota! üòé";
        else if(percent >= 50) msg = "Nie≈∫le, ale to trudny test. Sprawd≈∫ b≈Çƒôdy. ü§î";
        else msg = "To by≈Ç trudny poziom. Potrenuj i wr√≥ƒá! üí™";
        
        document.getElementById('feedback-msg').innerText = msg;
    }

    loadQ();
</script>

</body>
</html>
