<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>General English Quiz üá¨üáß</title>
    <style>
        /* Styl: Ciemny, nowoczesny, czytelny */
        body { 
            font-family: 'Segoe UI', sans-serif; 
            background-color: #1a1a1a; 
            color: #f0f0f0; 
            display: flex; 
            justify-content: center; 
            align-items: flex-start; 
            min-height: 100vh; 
            margin: 0; 
            padding: 20px; 
        }
        
        .quiz-container { 
            background: #2b2b2b; 
            width: 100%; 
            max-width: 700px; 
            padding: 40px; 
            border-radius: 15px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); 
            text-align: center; 
            margin-top: 20px; 
            margin-bottom: 40px; 
            border: 1px solid #444;
        }
        
        h2 { 
            color: #6c5ce7; /* Fioletowy akcent */
            margin-bottom: 10px; 
            font-weight: 700;
        }
        
        .subtitle { 
            color: #aaa; 
            font-size: 0.95em; 
            margin-bottom: 30px; 
            font-style: italic;
        }
        
        /* Pytania */
        .question { 
            font-size: 1.25em; 
            margin-bottom: 25px; 
            font-weight: 500; 
            color: #fff; 
            line-height: 1.5;
        }
        
        .options { 
            display: flex; 
            flex-direction: column; 
            gap: 12px; 
        }
        
        button.option-btn { 
            padding: 15px; 
            border: 1px solid #444; 
            background: #333; 
            border-radius: 8px; 
            cursor: pointer; 
            font-size: 1.05em; 
            transition: all 0.2s; 
            text-align: left; 
            color: #ccc; 
        }
        
        button.option-btn:hover { 
            background-color: #444; 
            border-color: #6c5ce7; 
            color: #fff;
            transform: translateX(3px); 
        }
        
        button.option-btn.selected { 
            background-color: #6c5ce7; 
            border-color: #6c5ce7; 
            color: #fff; 
            font-weight: bold; 
        }
        
        /* Nawigacja */
        .navigation { 
            margin-top: 35px; 
            display: flex; 
            justify-content: space-between; 
        }
        
        button.nav-btn { 
            padding: 12px 25px; 
            background-color: transparent; 
            color: #6c5ce7; 
            border: 2px solid #6c5ce7; 
            border-radius: 50px; 
            cursor: pointer; 
            font-size: 1em; 
            font-weight: 600; 
            transition: 0.2s; 
        }
        
        button.nav-btn:hover { 
            background-color: #6c5ce7; 
            color: white; 
        }
        
        button.nav-btn:disabled { 
            border-color: #555; 
            color: #555; 
            cursor: not-allowed; 
            background-color: transparent;
        }

        /* Pasek postƒôpu */
        #progress-bar-container { 
            width: 100%; 
            background-color: #333; 
            border-radius: 4px; 
            height: 8px; 
            margin-bottom: 25px; 
            overflow: hidden; 
        }
        
        #progress-bar { 
            height: 100%; 
            background-color: #a29bfe; 
            width: 0%; 
            transition: width 0.3s; 
        }
        
        #progress-text { 
            text-align: right; 
            font-size: 0.85em; 
            color: #888; 
            margin-bottom: 5px; 
        }

        /* Wyniki */
        .result-box { display: none; text-align: center; }
        .score-circle { 
            width: 130px; 
            height: 130px; 
            border-radius: 50%; 
            background: transparent; 
            border: 5px solid #6c5ce7;
            color: #6c5ce7; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            font-size: 2.5em; 
            margin: 0 auto 20px; 
            font-weight: bold; 
        }
        
        /* PodglƒÖd odpowiedzi */
        #review-container { 
            margin-top: 30px; 
            text-align: left; 
            border-top: 1px solid #444; 
            padding-top: 20px; 
        }
        
        .review-item { 
            padding: 15px; 
            margin-bottom: 15px; 
            border-radius: 8px; 
            background: #333; 
            border-left: 5px solid #555; 
        }
        
        .review-item.correct { border-left-color: #00b894; }
        .review-item.incorrect { border-left-color: #ff7675; }
        
        .review-q-title { font-weight: bold; margin-bottom: 8px; display: block; color: #fff; }
        .ans-bad { color: #ff7675; text-decoration: line-through; opacity: 0.8; font-size: 0.9em; }
        .ans-good { color: #00b894; font-weight: bold; }
        
        .grammar-tag {
            display: inline-block;
            background: #444;
            color: #ddd;
            padding: 2px 8px;
            font-size: 0.75em;
            border-radius: 4px;
            margin-bottom: 8px;
            text-transform: uppercase;
        }
    </style>
</head>
<body>

<div class="quiz-container">
    <div id="quiz-area">
        <h2>General English Quiz üá¨üáß</h2>
        <div class="subtitle">Grammar Review (Tenses & Future Forms)</div>
        
        <div id="progress-text">Question 1 of 20</div>
        <div id="progress-bar-container"><div id="progress-bar"></div></div>

        <div class="question" id="question-text">...</div>
        <div class="options" id="options-container"></div>
        
        <div class="navigation">
            <button class="nav-btn" id="prev-btn" onclick="prevQuestion()" disabled>Back</button>
            <button class="nav-btn" id="next-btn" onclick="nextQuestion()">Next</button>
        </div>
    </div>

    <div id="result-area" class="result-box">
        <h2>Your Result</h2>
        <div class="score-circle" id="score-val">0/20</div>
        <p id="feedback-msg" style="font-size: 1.2em; color: #ccc; margin-bottom: 20px;"></p>
        
        <button class="nav-btn" onclick="location.reload()" style="margin-bottom: 30px;">Try Again</button>

        <h3 style="color: #aaa; border-bottom: 1px solid #444; padding-bottom: 10px;">Review Answers:</h3>
        <div id="review-container"></div>
    </div>
</div>

<script>
    const questions = [
        // --- PRESENT SIMPLE vs CONTINUOUS ---
        { q: "1. Look! It __________ outside. We can't go to the park.", options: ["rains", "is raining", "raining", "does rain"], answer: 1, type: "Present Continuous" },
        { q: "2. I usually __________ tea, but today I want coffee.", options: ["drink", "am drinking", "drinks", "drank"], answer: 0, type: "Present Simple" },
        { q: "3. 'Where is Tom?' ‚Äì 'He __________ in the garden.'", options: ["works", "work", "is working", "working"], answer: 2, type: "Present Continuous" },
        { q: "4. She __________ understand this exercise. Can you help her?", options: ["isn't", "don't", "not", "doesn't"], answer: 3, type: "Present Simple (Negative)" },
        
        // --- PAST SIMPLE ---
        { q: "5. We __________ to the cinema last night.", options: ["go", "went", "have gone", "gone"], answer: 1, type: "Past Simple" },
        { q: "6. I __________ enjoy the party yesterday. The music was too loud.", options: ["didn't", "don't", "wasn't", "haven't"], answer: 0, type: "Past Simple (Negative)" },
        { q: "7. When __________ you buy this car?", options: ["have", "did", "were", "are"], answer: 1, type: "Past Simple (Question)" },
        { q: "8. Shakespeare __________ many famous plays.", options: ["write", "wrote", "has written", "writes"], answer: 1, type: "Past Simple (Finished Action)" },

        // --- FUTURE EXPRESSIONS ---
        { q: "9. 'It's very hot in here.' ‚Äì 'Okay, I __________ open the window.' (Spontaneous)", options: ["will", "am going to", "am opening", "open"], answer: 0, type: "Future Simple (Will)" },
        { q: "10. Look at those dark clouds! It __________ rain.", options: ["will", "is going to", "goes to", "is go to"], answer: 1, type: "Going to (Prediction)" },
        { q: "11. I __________ my dentist tomorrow at 10:00. (Arrangement)", options: ["will see", "am seeing", "see", "saw"], answer: 1, type: "Present Continuous for Future" },
        { q: "12. What are your plans for the summer? I __________ travel to Spain.", options: ["will", "am going to", "traveling", "travel"], answer: 1, type: "Going to (Plan)" },

        // --- PRESENT PERFECT ---
        { q: "13. __________ you ever __________ sushi?", options: ["Did / eat", "Have / eaten", "Have / eat", "Has / eaten"], answer: 1, type: "Present Perfect (Experience)" },
        { q: "14. I can't find my keys. I think I __________ them.", options: ["lost", "have lost", "lose", "am losing"], answer: 1, type: "Present Perfect (Result)" },
        { q: "15. She has lived in London __________ ten years.", options: ["since", "for", "from", "ago"], answer: 1, type: "For / Since" },
        { q: "16. We __________ haven't finished our homework.", options: ["just", "already", "yet", "still"], answer: 3, type: "Still / Yet" },
        
        // --- MIXED / GENERAL ---
        { q: "17. I __________ him since we were children.", options: ["know", "knew", "have known", "am knowing"], answer: 2, type: "Present Perfect" },
        { q: "18. While I was walking to work, I __________ an old friend.", options: ["meet", "met", "have met", "meeting"], answer: 1, type: "Past Simple" },
        { q: "19. In the future, people __________ live on Mars.", options: ["are going", "will", "are living", "live"], answer: 1, type: "Future (Prediction)" },
        { q: "20. Why __________ you __________? Is something funny?", options: ["do / smile", "are / smiling", "have / smiled", "did / smile"], answer: 1, type: "Present Continuous" }
    ];

    let currentQ = 0;
    let answers = new Array(questions.length).fill(null);

    function loadQ() {
        const qData = questions[currentQ];
        document.getElementById('question-text').innerText = qData.q;
        document.getElementById('progress-text').innerText = `Question ${currentQ + 1} of ${questions.length}`;
        
        const percent = ((currentQ) / questions.length) * 100;
        document.getElementById('progress-bar').style.width = percent + "%";

        const optsDiv = document.getElementById('options-container');
        optsDiv.innerHTML = '';

        qData.options.forEach((opt, idx) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = opt;
            if (answers[currentQ] === idx) btn.classList.add('selected');
            btn.onclick = () => {
                answers[currentQ] = idx;
                loadQ();
            };
            optsDiv.appendChild(btn);
        });

        document.getElementById('prev-btn').disabled = (currentQ === 0);
        const nextBtn = document.getElementById('next-btn');
        if (currentQ === questions.length - 1) {
            nextBtn.innerText = "Finish Test üèÅ";
        } else {
            nextBtn.innerText = "Next ‚Üí";
        }
    }

    function nextQuestion() {
        if (currentQ < questions.length - 1) {
            currentQ++;
            loadQ();
        } else {
            finishQuiz();
        }
    }

    function prevQuestion() {
        if (currentQ > 0) {
            currentQ--;
            loadQ();
        }
    }

    function finishQuiz() {
        let score = 0;
        const reviewContainer = document.getElementById('review-container');
        reviewContainer.innerHTML = ""; 

        questions.forEach((q, idx) => {
            const userAnsIdx = answers[idx];
            const correctAnsIdx = q.answer;
            const isCorrect = (userAnsIdx === correctAnsIdx);
            
            if (isCorrect) score++;

            const div = document.createElement('div');
            div.className = isCorrect ? 'review-item correct' : 'review-item incorrect';
            
            const statusIcon = isCorrect ? '‚úÖ' : '‚ùå';
            
            let reviewContent = `
                <span class="grammar-tag">${q.type}</span>
                <span class="review-q-title">${statusIcon} ${q.q}</span>
            `;

            if (isCorrect) {
                reviewContent += `<div class="ans-good">Your answer: ${q.options[userAnsIdx]}</div>`;
            } else {
                const userText = userAnsIdx !== null ? q.options[userAnsIdx] : "No answer";
                reviewContent += `
                    <div class="ans-bad">Your answer: ${userText}</div>
                    <div class="ans-good">Correct answer: ${q.options[correctAnsIdx]}</div>
                `;
            }
            div.innerHTML = reviewContent;
            reviewContainer.appendChild(div);
        });

        document.getElementById('quiz-area').style.display = 'none';
        document.getElementById('result-area').style.display = 'block';
        document.getElementById('score-val').innerText = `${score}/${questions.length}`;
        
        let msg = "";
        const percent = (score / questions.length) * 100;
        if(percent === 100) msg = "Perfect Score! You are a grammar master! üèÜ";
        else if(percent >= 80) msg = "Great job! Your English is very good! üëè";
        else if(percent >= 50) msg = "Good start! Review the mistakes below. üôÇ";
        else msg = "Keep practicing. You will get there! üí™";
        
        document.getElementById('feedback-msg').innerText = msg;
    }

    loadQ();
</script>

</body>
</html>
