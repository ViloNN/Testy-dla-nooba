<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>English Test: Unit 2 (Super Powers 5)</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #2d1b4e; color: #fff; display: flex; justify-content: center; align-items: flex-start; min-height: 100vh; margin: 0; padding: 20px; }
        .quiz-container { background: #4a2b7a; width: 100%; max-width: 700px; padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); text-align: center; margin-top: 20px; margin-bottom: 40px; border: 2px solid #9d50bb; }
        
        h2 { color: #f8c291; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px; text-shadow: 2px 2px #000; }
        .subtitle { color: #d6a2e8; font-size: 1.1em; margin-bottom: 30px; font-style: italic; }
        
        /* Pytania */
        .question { font-size: 1.3em; margin-bottom: 25px; font-weight: 600; color: #fff; }
        .options { display: flex; flex-direction: column; gap: 12px; }
        
        button.option-btn { padding: 15px; border: 2px solid #6c5ce7; background: #341f5e; border-radius: 12px; cursor: pointer; font-size: 1.1em; transition: all 0.2s; text-align: left; color: #fff; }
        button.option-btn:hover { background-color: #5f27cd; border-color: #fab1a0; transform: translateX(5px); }
        button.option-btn.selected { background-color: #fab1a0; border-color: #e17055; font-weight: bold; color: #2d3436; }
        
        /* Nawigacja */
        .navigation { margin-top: 35px; display: flex; justify-content: space-between; }
        button.nav-btn { padding: 12px 30px; background-color: #00b894; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1.1em; font-weight: bold; transition: 0.2s; }
        button.nav-btn:hover { background-color: #00cec9; }
        button.nav-btn:disabled { background-color: #636e72; cursor: not-allowed; }

        /* Wyniki */
        .result-box { display: none; text-align: center; }
        .score-circle { width: 140px; height: 140px; border-radius: 50%; background: #fab1a0; color: #2d3436; display: flex; justify-content: center; align-items: center; font-size: 2.5em; margin: 0 auto 20px; font-weight: bold; box-shadow: 0 0 20px rgba(250, 177, 160, 0.6); border: 5px solid #e17055; }
        
        /* Pasek postƒôpu */
        #progress-bar-container { width: 100%; background-color: #2d3436; border-radius: 10px; height: 15px; margin-bottom: 20px; overflow: hidden; border: 1px solid #636e72; }
        #progress-bar { height: 100%; background-color: #00b894; width: 0%; transition: width 0.3s; }
        #progress-text { text-align: right; font-size: 0.9em; color: #dfe6e9; margin-bottom: 5px; }

        /* PodglƒÖd odpowiedzi */
        #review-container { margin-top: 30px; text-align: left; border-top: 2px solid #6c5ce7; padding-top: 20px; }
        .review-item { padding: 15px; margin-bottom: 15px; border-radius: 10px; border-left: 6px solid #ccc; background: #f1f2f6; color: #2d3436; }
        .review-item.correct { border-left-color: #00b894; background-color: #dff9fb; }
        .review-item.incorrect { border-left-color: #d63031; background-color: #ff7675; color: #fff; }
        .review-item.incorrect .ans-bad { color: #2d3436; font-weight: bold; } /* Poprawka czytelno≈õci na czerwonym tle */
        
        .review-q-title { font-weight: bold; margin-bottom: 8px; display: block; font-size: 1.1em; }
        .ans-bad { text-decoration: line-through; opacity: 0.8; }
        .ans-good { font-weight: bold; color: #009432; }
        .review-item.incorrect .ans-good { color: #fff; text-shadow: 1px 1px 2px #000; background: #00b894; padding: 2px 5px; border-radius: 4px;}
    </style>
</head>
<body>

<div class="quiz-container">
    <div id="quiz-area">
        <h2>English Test: Unit 2 üé¨</h2>
        <div class="subtitle">Film and TV Fun (Super Powers 5)</div>
        
        <div id="progress-text">Question 1 of 20</div>
        <div id="progress-bar-container"><div id="progress-bar"></div></div>

        <div class="question" id="question-text">...</div>
        <div class="options" id="options-container"></div>
        
        <div class="navigation">
            <button class="nav-btn" id="prev-btn" onclick="prevQuestion()" disabled>Previous</button>
            <button class="nav-btn" id="next-btn" onclick="nextQuestion()">Next</button>
        </div>
    </div>

    <div id="result-area" class="result-box">
        <h2>Your Score / Tw√≥j Wynik</h2>
        <div class="score-circle" id="score-val">0/20</div>
        <p id="feedback-msg" style="font-size: 1.3em; margin-bottom: 20px;"></p>
        
        <button class="nav-btn" onclick="location.reload()" style="margin-bottom: 30px;">Try Again / Spr√≥buj ponownie</button>

        <h3 style="color: #dfe6e9; border-bottom: 1px solid #6c5ce7; padding-bottom: 10px;">Review (Sprawd≈∫ b≈Çƒôdy):</h3>
        <div id="review-container"></div>
    </div>
</div>

<script>
    const questions = [
        // --- VOCABULARY: TYPES OF FILMS ---
        { q: "1. Shrek is a __________ film. (It's animated)", options: ["horror", "cartoon", "western", "documentary"], answer: 1 },
        { q: "2. I like films about space and robots. My favourite type is:", options: ["sci-fi", "musical", "history", "comedy"], answer: 0 },
        { q: "3. A film with cowboys and horses is called a:", options: ["fantasy", "western", "scary film", "love story"], answer: 1 },
        { q: "4. In a __________, people sing and dance.", options: ["documentary", "musical", "action film", "quiz show"], answer: 1 },
        { q: "5. A film that makes you laugh (ha ha ha!) is a:", options: ["drama", "horror", "comedy", "tragedy"], answer: 2 },

        // --- VOCABULARY: TV PROGRAMMES ---
        { q: "6. You can learn about animals and nature in a:", options: ["game show", "documentary", "comedy", "talent show"], answer: 1 },
        { q: "7. 'The Voice' or 'Mam Talent' is a:", options: ["talent show", "cartoon", "sport programme", "news"], answer: 0 },
        { q: "8. Where can you see information about the world?", options: ["In a cartoon", "On the news", "In a musical", "In a comedy"], answer: 1 },
        { q: "9. A programme where people answer questions to win money:", options: ["music show", "quiz show / game show", "sport programme", "western"], answer: 1 },

        // --- ADJECTIVES ---
        { q: "10. The horror film was very __________! I was afraid.", options: ["funny", "boring", "scary", "happy"], answer: 2 },
        { q: "11. The film was long and nothing happened. It was __________.", options: ["exciting", "interesting", "boring", "great"], answer: 2 },
        { q: "12. 'InteresujƒÖcy' in English is:", options: ["interested", "interesting", "boring", "scary"], answer: 1 },

        // --- GRAMMAR: PRESENT CONTINUOUS ---
        { q: "13. Look at the picture! They __________ watching TV.", options: ["is", "am", "are", "do"], answer: 2 },
        { q: "14. She __________ eating popcorn right now.", options: ["is", "are", "am", "does"], answer: 0 },
        { q: "15. Tom __________ playing a video game. (Negative)", options: ["aren't", "isn't", "not", "don't"], answer: 1 },
        { q: "16. What __________ you doing?", options: ["is", "am", "are", "be"], answer: 2 },

        // --- COMMUNICATION & PREPOSITIONS ---
        { q: "17. My favourite film is __________ 6:00 pm.", options: ["on", "at", "in", "to"], answer: 1 },
        { q: "18. __________ kind of films do you like?", options: ["Who", "Where", "What", "When"], answer: 2 },
        { q: "19. __________ is your favourite actor?", options: ["What", "Who", "Where", "Why"], answer: 1 },
        { q: "20. Would you __________ to watch a comedy?", options: ["want", "like", "do", "go"], answer: 1 } // Would you like...
    ];

    let currentQ = 0;
    let answers = new Array(questions.length).fill(null);

    function loadQ() {
        const qData = questions[currentQ];
        document.getElementById('question-text').innerText = qData.q;
        document.getElementById('progress-text').innerText = `Question ${currentQ + 1} of ${questions.length}`;
        
        const percent = ((currentQ) / questions.length) * 100;
        document.getElementById('progress-bar').style.width = percent + "%";

        const optsDiv = document.getElementById('options-container');
        optsDiv.innerHTML = '';

        qData.options.forEach((opt, idx) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = opt;
            if (answers[currentQ] === idx) btn.classList.add('selected');
            btn.onclick = () => {
                answers[currentQ] = idx;
                loadQ();
            };
            optsDiv.appendChild(btn);
        });

        document.getElementById('prev-btn').disabled = (currentQ === 0);
        const nextBtn = document.getElementById('next-btn');
        if (currentQ === questions.length - 1) {
            nextBtn.innerText = "Finish / Zako≈Ñcz üèÅ";
            nextBtn.style.backgroundColor = "#fd79a8";
        } else {
            nextBtn.innerText = "Next / Dalej ‚Üí";
            nextBtn.style.backgroundColor = "#00b894";
        }
    }

    function nextQuestion() {
        if (currentQ < questions.length - 1) {
            currentQ++;
            loadQ();
        } else {
            finishQuiz();
        }
    }

    function prevQuestion() {
        if (currentQ > 0) {
            currentQ--;
            loadQ();
        }
    }

    function finishQuiz() {
        let score = 0;
        const reviewContainer = document.getElementById('review-container');
        reviewContainer.innerHTML = ""; 

        questions.forEach((q, idx) => {
            const userAnsIdx = answers[idx];
            const correctAnsIdx = q.answer;
            const isCorrect = (userAnsIdx === correctAnsIdx);
            
            if (isCorrect) score++;

            const div = document.createElement('div');
            div.className = isCorrect ? 'review-item correct' : 'review-item incorrect';
            
            const statusIcon = isCorrect ? '‚úÖ' : '‚ùå';
            
            let reviewContent = `<span class="review-q-title">${statusIcon} ${q.q}</span>`;

            if (isCorrect) {
                reviewContent += `<div style="color:#009432">Your answer: ${q.options[userAnsIdx]} (Good!)</div>`;
            } else {
                const userText = userAnsIdx !== null ? q.options[userAnsIdx] : "No answer";
                reviewContent += `
                    <div class="ans-bad">Your answer: ${userText}</div>
                    <div class="ans-good">Correct answer: ${q.options[correctAnsIdx]}</div>
                `;
            }
            div.innerHTML = reviewContent;
            reviewContainer.appendChild(div);
        });

        document.getElementById('quiz-area').style.display = 'none';
        document.getElementById('result-area').style.display = 'block';
        document.getElementById('score-val').innerText = `${score}/${questions.length}`;
        
        let msg = "";
        const percent = (score / questions.length) * 100;
        if(percent === 100) msg = "Excellent! You are a movie star! üåüüèÜ";
        else if(percent >= 80) msg = "Very Good! Great job! üçøüòé";
        else if(percent >= 50) msg = "Good, but practice some vocabulary. üôÇ";
        else msg = "Please study Unit 2 again. You can do it! üí™";
        
        document.getElementById('feedback-msg').innerText = msg;
    }

    loadQ();
</script>

</body>
</html>
